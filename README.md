# COVID-19 感染状況の多角的分析

このリポジトリでは、世界各国のCOVID-19感染データを用いて、感染・死亡傾向の特徴把握と時間的変化の分析を行っています。  
主に3つの分析手法を用いて、感染拡大の地理的・経済的背景や動的クラスタリング、感染率・死亡率の安定性指標の導入を試みました。

---

## 1. 世界各国における感染・死亡状況の要約プロット

### 目的
世界各国の感染者数・死亡者数の分布を可視化し、地域ごとの感染状況の特徴を掴むことを目的としています。  
大陸別や収入レベル（World Bank分類）を色分けし、地理的・経済的背景と感染傾向の関係を探ります。

### 分析手法の概要
- Our World in DataからのCOVID-19データを用いました。
- 感染者数・死亡者数の中央値や四分位数を国ごとにまとめました。
- ggplot2で箱ひげ図や散布図を作成し、色分けにより地域・収入レベルの違いを示しました。

### 主な図の説明
- 横軸：国や地域のグループ（例：大陸、収入レベル）
- 縦軸：感染者数や死亡者数（人口100万人あたりの値を使用）
- 色：大陸別または収入レベル別で色分け
- 図からは、アフリカ諸国の感染者数・死亡者数が相対的に低い傾向が見られ、欧米や南米で高い感染・死亡率が確認されました。

---

## 2. 時間変化を考慮した動的クラスタリング

### 目的
COVID-19の感染動向は時間とともに変化するため、年別に感染パターンの変遷をクラスタリングし、特徴的な感染動態の変化を抽出することを目指しました。

### 分析手法の概要
- 年ごとに感染者数データを整理し、PCAやt-SNEを用いて次元削減を行いました。
- 国ごとの感染傾向をクラスタリングでグルーピングしました。
- ggplot2による可視化で、各クラスタの変遷と地理的分布を観察しました。

### 主な図の説明
- 横軸・縦軸：PCAの主成分1・2、またはt-SNEの次元1・2
- 色：クラスタごと、または大陸別の色分け
- 図からは、初期は欧米中心の感染拡大クラスタが顕著でしたが、後期ではアジア・アフリカの国々が別クラスタとして特徴的な傾向を示すことがわかりました。

---

## 3. 死亡率／感染率の変動係数（安定性指標）の導入

### 目的
感染率・死亡率の時間的な「安定性」を評価し、変動が激しい国と安定的に抑えている国の判別を試みました。

### 分析手法の概要
- 国別に日次感染率・死亡率の変動係数（標準偏差 ÷ 平均）を計算しました。
- 変動係数を用いて安定度の指標化を行い、クラスタリングに組み込みました。
- ggplot2で安定性の高低別に国を比較・可視化しました。

### 主な図の説明
- 横軸：変動係数（感染率または死亡率）
- 縦軸：平均感染率または死亡率
- 色：大陸別や安定性のクラスタ別
- 図からは、感染率の変動が激しい国は主に初期の感染ピークで大きく動いた国々であり、安定的な国はワクチン普及率が高い国に多い傾向が示されました。

---

## 4. 感染者数のlog1p変換を用いたPCA分析

### 目的
感染者数データのスケール差を調整し、感染傾向の特徴をより分かりやすく捉えるために、log1p変換を行いPCAで次元削減しました。

### 分析手法の概要
- 国ごとの日次感染者数をlog1p変換（log(1 + x)）してスケーリングを行いました。
- PCAで主成分を抽出し、大陸別に色分けしてプロットしました。

### 主な図の説明
- 横軸・縦軸：PCAの第1主成分、第2主成分
- 色：大陸別の色分け
- 図からは、大陸ごとに感染拡大の特徴的パターンが分布しており、欧米やアジアの国々が明確にクラスタ化されていることが確認できました。

---

## まとめ

本リポジトリでは、COVID-19の感染・死亡データを多角的に分析し、地理的・経済的背景や時間的変化を考慮したクラスタリング、感染率の安定性指標の導入などの手法で傾向を可視化しました。  
感染拡大の特徴は大陸・収入レベルによって異なり、時間とともにクラスタの構造も変化していることが分かりました。変動係数の分析は感染の安定性を評価し、今後の対策や政策判断の参考となる可能性があります。  

引き続き、ワクチン接種率や検査数など他の変数を取り入れた多変量分析を進め、より因果関係に迫る研究を進めていきます。

---

## 使用方法

- `analytics/` ディレクトリ内にある各種Rスクリプトを順に実行してください。
- 可視化図は実行時にRのグラフィックデバイスに表示されます。必要に応じて画像保存処理を追加してください。
- 本READMEを参照し、各スクリプトの目的や使用データの前提を確認してください。

---

## 参考データ

- Our World in Data COVID-19 Dataset:  
  https://covid.ourworldindata.org/data/owid-covid-data.csv

---

## 必要パッケージ

- tidyverse  
- lubridate  
- ggfortify

---

作成者: Toshiki Yamaguchi
作成日: 2025年5月31日  
